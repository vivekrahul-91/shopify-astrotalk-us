{% schema %}
{
  "name": "Collection Video Blocks",
  "settings": [
    {
      "type": "text",
      "id": "section_heading",
      "label": "Section Heading",
      "default": "Product Categories"
    },
    {
      "type": "url",
      "id": "background_video_url",
      "label": "Section Background Video URL (Optional)",
    }
  ],
  "blocks": [
    {
      "type": "collection_block",
      "name": "Collection Block",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Choose Collection"
        },
        {
          "type": "url",
          "id": "block_video_url",
          "label": "Block Background Video URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Collection Video Blocks",
      "category": "Collections"
    }
  ]
}
{% endschema %}

<section class="relative ved-coll page-width overflow-hidden text-white py-12">
  {% if section.settings.background_video_url != blank %}
    <video class="absolute top-0 left-0 w-full h-full object-cover z-0" autoplay muted loop playsinline>
      <source src="{{ section.settings.background_video_url }}" type="video/mp4">
    </video>
    <div class="absolute inset-0 bg-black opacity-40 z-0"></div>
  {% endif %}

  <div class="relative z-10 max-w-7xl mx-auto px-4">
    {% if section.settings.section_heading != blank %}
      <h2 class="text-center  mb-10">{{ section.settings.section_heading }}</h2>
    {% endif %}

    <div class="grid coll-cont grid-cols-1 md:grid-cols-2 gap-6">
      {% for block in section.blocks %}
        {% assign collection = block.settings.collection %}
        {% if collection %}
          <a href="{{ collection.url }}"  class="group coll-div relative rounded-lg overflow-hidden shadow-lg">
            {% if block.settings.block_video_url != blank %}
              <video class="absolute w-full h-full object-cover z-0" autoplay muted loop playsinline>
                <source src="{{ block.settings.block_video_url }}" type="video/mp4">
              </video>
              <div class="absolute inset-0 bg-black opacity-50 z-0"></div>
            {% endif %}
            <div class="relative z-10 h-64 md:h-72 flex items-end justify-center">
              <h3 class="text-xl md:text-2xl ">{{ collection.title }}</h3>
            </div>
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .collection-video-grid video {
    pointer-events: none;
  }
 .coll-cont h3{
   /* font-size: var(--rudra-heading-fsize); */
    color: #fff;
}
  .coll-cont {
    gap: 20px;
}
  .coll-div  > div:last-child {
    height: 20rem;
    padding: 50px 20px !important;
    align-items: end;
}
   
  .ved-coll {
    margin: 60px auto 40px;
}
  @media screen and (max-width:749px){
    .ved-coll {
    margin: 45px auto;
}

.ved-coll h2 {
    margin-bottom: 20px;
}
  }
</style>
